name: GSF Website SCI
description: generates SCI score (gCO2eq/visit) for greensoftware.foundation website
tags:
aggregation:
  metrics:
    - carbon
    - sci
  type: both
  
initialize:
  plugins:

    # Unit conversions
    ##################

    duration-in-hours:
      method: Divide
      path: "builtin"
      config:
        numerator: duration
        denominator: 3600 # s to hr
        output: duration-in-hours


    ## Github storage for IF
    ########################

    storage-and-traffic-from-github-if-docs:
      method: Github
      path: if-github-plugin
      config:
        repo: Green-Software-Foundation/if-docs
      mapping: # rename outputs
        'size': 'repo-size-if-docs'
        'clones': 'repo-clones-if-docs'

    storage-in-gb-to-tb-if-docs:
      method: Coefficient
      path: builtin
      config:
        input-parameter: repo-size-if-docs # size comes from github api and represents repo size in gb
        coefficient: 0.001 # convert size to tb
        output-parameter: "storage-tb-if-docs"

    storage-energy-in-watts-if-docs:
      method: Multiply
      path: builtin
      config:
        input-parameters: ["storage-tb-if-docs", "watts-per-tb"]
        output-parameter: "storage-watts-if-docs"

    storage-energy-in-wh-if-docs:
      method: Multiply
      path: builtin
      config:
        input-parameters: ["storage-watts-if-docs", "duration-in-hours"]
        output-parameter: "storage-wh-if-docs"

    storage-energy-to-kwh-if-docs:
      path: "builtin"
      method: Coefficient
      config:
        input-parameter: storage-wh-if-docs
        coefficient: 0.001
        output-parameter: energy
    
    energy-to-carbon:
      method: Multiply
      path: "builtin"
      config:
        input-parameters: ["energy", "grid-intensity"]
        output-parameter: "carbon"


    
    # # storing static site on netlify
    # ################################
    static-site-size-in-tb:
      method: Divide
      path: "builtin"
      config:
        numerator: static-site-size-in-mb
        denominator: 1000000 # s to hr
        output: static-site-size-in-tb
      
    storage-energy-static-site-in-watts:
      method: Multiply
      path: builtin
      config:
        input-parameters: ["static-site-size-in-tb", "watts-per-tb"]
        output-parameter: "storage-watts-static-site-at-origin"

    storage-energy-in-wh-static-site:
      method: Multiply
      path: builtin
      config:
        input-parameters: ["storage-watts-static-site-at-origin", "duration-in-hours"]
        output-parameter: "storage-wh-static-site-at-origin"

    storage-energy-to-kwh-static-site:
      path: "builtin"
      method: Coefficient
      config:
        input-parameter: storage-wh-static-site-at-origin
        coefficient: 0.001
        output-parameter: storage-energy-kwh-static-site-at-origin


    # # CDN
    # ######

    storage-energy-per-cdn-node:
      method: Divide
      path: "builtin"
      config:
        numerator: storage-energy-kwh-static-site-at-origin
        denominator: 10 # s to hr
        output: storage-energy-per-cdn-node

    storage-energy-for-entire-cdn:
      method: Coefficient
      path: "builtin"
      config:
        input-parameter: storage-energy-per-cdn-node
        coefficient: 46 # there are 46 PoPs on Fastly, which we think GH uses for CDN
        output-parameter: storage-energy-whole-cdn

    sum-serving-static-site-energy-components:
      method: Sum
      path: builtin
      config:
        input-parameters: ['storage-energy-whole-cdn','storage-energy-kwh-static-site-at-origin']
        output-parameter: 'energy'

    # # Networking energy to serve static site to users
    # #################################################

    static-site-size-in-gb:
      method: Coefficient
      path: builtin
      config:
        input-parameter: static-site-size-in-mb # size comes from github api and represents repo size in gb
        coefficient: 0.000001 # convert size to tb
        output-parameter: "static-site-size-in-gb"

    network-energy-serving-static-site-per-view:
      method: Multiply
      path: builtin
      config:
        input-parameters: ["static-site-size-in-gb", "kwh-per-gb-network"]
        output-parameter: "network-energy-kwh-serving-static-site-per-view"

    network-energy-serving-static-site-total:
      method: Multiply
      path: builtin
      config:
        input-parameters: [network-energy-kwh-serving-static-site-per-view, 'site-visits']
        output-parameter: energy

    ## End user energy
    ##################

    end-user-energy:
      method: Multiply
      path: builtin
      config:
        input-parameters: [site-visits, static-site-size-in-gb, end-user-energy-coefficient]
        output-parameter: energy

    ## Build energy: gh-pages
    #########################
    interpolate-power-curve:
      method: Interpolation
      path: 'builtin'
      config:
        method: linear
        x: [0, 10, 50, 100]
        y: [0.12, 0.32, 0.75, 1.02]
        input-parameter: 'cpu-utilization-during-build'
        output-parameter: 'cpu-factor'

    build-stage-cpu-factor-to-wattage:
      method: Multiply
      path: builtin
      config:
        input-parameters: ["cpu-factor", "thermal-design-power"]
        output-parameter: "cpu-wattage"

    build-stage-cpu-wattage-times-build-duration:
      method: Multiply
      path: builtin
      config:
        input-parameters: ["cpu-wattage", "build-duration"]
        output-parameter: "cpu-wattage-times-duration"

    build-stage-cpu-wattage-to-energy-kwh:
      method: Divide
      path: "builtin"
      config:
        numerator: cpu-wattage-times-duration
        denominator: 3600000
        output: build-energy-cpu-kwh

    memory-coefficient-correction: # memory coefficient in CCF is given /GB/hr - we want to convert to /GB/run-time-duration then x by run duration in s
      path: builtin
      method: Coefficient
      config:
        input-parameter: build-duration
        coefficient: 0.000006533333 # this is 0.000392/60 = KW/GB/H -> KW/GB/s
        output-parameter: memory-coefficient

    memory-energy-per-build:
      path: builtin
      method: Multiply
      config:
        input-parameters: [build-memory-gb, memory-coefficient]
        output-parameter: build-energy-memory-kwh

    sum-build-energy-components:
      method: Sum
      path: builtin
      config:
        input-parameters: ['build-energy-cpu-kwh','build-energy-memory-kwh']
        output-parameter: 'build-energy-kwh-per-build'

    build-energy-total:
      path: builtin
      method: Multiply
      config:
        input-parameters: [build-energy-kwh-per-build, builds-per-month]
        output-parameter: energy    


    ## Embodied Carbon
    ##################

    total-embodied-carbon:
      path: builtin
      method: Multiply
      config:
        input-parameters: [carbon-per-device, site-visits]
        output-parameter: carbon    
    
    embodied-carbon-github:
      path: builtin
      method: SciEmbodied
      config:
        output-parameter: carbon


    embodied-carbon-web-server-origin:
      path: builtin
      method: SciEmbodied
      config:
        output-parameter: carbon

    embodied-carbon-web-server-cdn:
      path: builtin
      method: SciEmbodied
      config:
        output-parameter: carbon
        baseline-emissions: 4600000 # 46 lots of the origin server


    embodied-carbon-devices:
      path: builtin
      method: SciEmbodied
      config:
        baseline-emissions: 63585
        lifespan: 116121600
        output-parameter: carbon-per-device

    ## SCI
    ######

    sci:
      path: builtin
      method: Sci
      config:
        functional-unit: site-visits
      parameter-metadata:
        outputs:
          sci:
            description: software carbon intensity
            unit: gCO2 / visit
            aggregation-method: 'avg'

tree:
  children:
    development:
      children:
        github-storage-for-source-code:
          pipeline:
            observe:
            regroup:
            compute:
              - duration-in-hours
              - storage-and-traffic-from-github-if-docs
              - storage-in-gb-to-tb-if-docs
              - storage-energy-in-watts-if-docs
              - storage-energy-in-wh-if-docs
              - storage-energy-to-kwh-if-docs
              - energy-to-carbon
              - sci
          defaults:
            watts-per-tb: 1.2 # https://www.cloudcarbonfootprint.org/docs/methodology/#storage
            grid-intensity: 765.49 # US average
            visits-per-month: 325 # from google analytics
          inputs:
            - timestamp: '2024-07-22T00:00:00'
              duration:	86400	
              site-visits: 228
            - timestamp: '2024-07-23T00:00:00'
              duration:	86400	
              site-visits: 216
            - timestamp: '2024-07-24T00:00:00'
              duration:	86400	
              site-visits: 203
            - timestamp: '2024-07-25T00:00:00'
              duration:	86400	
              site-visits: 203
            - timestamp: '2024-07-26T00:00:00'
              duration:	86400	
              site-visits: 172
            - timestamp: '2024-07-27T00:00:00'
              duration:	86400	
              site-visits: 38
            - timestamp: '2024-07-28T00:00:00'
              duration:	86400	
              site-visits: 63
            - timestamp: '2024-07-29T00:00:00'
              duration:	86400	
              site-visits: 621
            - timestamp: '2024-07-30T00:00:00'
              duration:	86400	
              site-visits: 181
            - timestamp: '2024-07-31T00:00:00'
              duration:	86400	
              site-visits: 213
            - timestamp: '2024-08-01T00:00:00'
              duration:	86400	
              site-visits: 167
            - timestamp: '2024-08-02T00:00:00'
              duration:	86400	
              site-visits: 428
            - timestamp: '2024-08-03T00:00:00'
              duration:	86400	
              site-visits: 58
            - timestamp: '2024-08-04T00:00:00'
              duration:	86400	
              site-visits: 66
            - timestamp: '2024-08-05T00:00:00'
              duration:	86400	
              site-visits: 301
            - timestamp: '2024-08-06T00:00:00'
              duration:	86400	
              site-visits: 193
            - timestamp: '2024-08-07T00:00:00'
              duration:	86400	
              site-visits: 220
            - timestamp: '2024-08-08T00:00:00'
              duration:	86400	
              site-visits: 215
            - timestamp: '2024-08-09T00:00:00'
              duration:	86400	
              site-visits: 516
            - timestamp: '2024-08-10T00:00:00'
              duration:	86400	
              site-visits: 42
            - timestamp: '2024-08-11T00:00:00'
              duration:	86400	
              site-visits: 76
            - timestamp: '2024-08-12T00:00:00'
              duration:	86400	
              site-visits: 226
            - timestamp: '2024-08-13T00:00:00'
              duration:	86400	
              site-visits: 180
            - timestamp: '2024-08-14T00:00:00'
              duration:	86400	
              site-visits: 232
            - timestamp: '2024-08-15T00:00:00'
              duration:	86400	
              site-visits: 175
            - timestamp: '2024-08-16T00:00:00'
              duration:	86400	
              site-visits: 235
            - timestamp: '2024-08-17T00:00:00'
              duration:	86400	
              site-visits: 44
            - timestamp: '2024-08-18T00:00:00'
              duration:	86400	
              site-visits: 31

    server:
      children:
        netlify-builds:
          pipeline:
            observe:
            regroup:
            compute:
              - interpolate-power-curve
              - build-stage-cpu-factor-to-wattage
              - build-stage-cpu-wattage-times-build-duration
              - build-stage-cpu-wattage-to-energy-kwh
              - memory-coefficient-correction # memory coefficient in CCF is given /GB/hr - we want to convert to /GB/run-time-duration then x by run duration in s
              - memory-energy-per-build
              - sum-build-energy-components
              - build-energy-total
              - energy-to-carbon
              - sci
          defaults:
            end-user-energy-coefficient: 0.080 # https://sustainablewebdesign.org/estimating-digital-emissions/
            static-site-size-in-mb: 0.809473 # from google pagespeed api
            kwh-per-gb-network: 0.001 # https://www.cloudcarbonfootprint.org/docs/methodology/#networking
            grid-intensity: 765.49 # US average
            build-duration: 7
            build-memory-gb: 0.48
            builds-per-month: 5
            thermal-design-power: 205 # from our if-data
            cpu-utilization-during-build: 100
          inputs:
            - timestamp: '2024-07-22T00:00:00'
              duration:	86400	
              site-visits: 228
            - timestamp: '2024-07-23T00:00:00'
              duration:	86400	
              site-visits: 216
            - timestamp: '2024-07-24T00:00:00'
              duration:	86400	
              site-visits: 203
            - timestamp: '2024-07-25T00:00:00'
              duration:	86400	
              site-visits: 203
            - timestamp: '2024-07-26T00:00:00'
              duration:	86400	
              site-visits: 172
            - timestamp: '2024-07-27T00:00:00'
              duration:	86400	
              site-visits: 38
            - timestamp: '2024-07-28T00:00:00'
              duration:	86400	
              site-visits: 63
            - timestamp: '2024-07-29T00:00:00'
              duration:	86400	
              site-visits: 621
            - timestamp: '2024-07-30T00:00:00'
              duration:	86400	
              site-visits: 181
            - timestamp: '2024-07-31T00:00:00'
              duration:	86400	
              site-visits: 213
            - timestamp: '2024-08-01T00:00:00'
              duration:	86400	
              site-visits: 167
            - timestamp: '2024-08-02T00:00:00'
              duration:	86400	
              site-visits: 428
            - timestamp: '2024-08-03T00:00:00'
              duration:	86400	
              site-visits: 58
            - timestamp: '2024-08-04T00:00:00'
              duration:	86400	
              site-visits: 66
            - timestamp: '2024-08-05T00:00:00'
              duration:	86400	
              site-visits: 301
            - timestamp: '2024-08-06T00:00:00'
              duration:	86400	
              site-visits: 193
            - timestamp: '2024-08-07T00:00:00'
              duration:	86400	
              site-visits: 220
            - timestamp: '2024-08-08T00:00:00'
              duration:	86400	
              site-visits: 215
            - timestamp: '2024-08-09T00:00:00'
              duration:	86400	
              site-visits: 516
            - timestamp: '2024-08-10T00:00:00'
              duration:	86400	
              site-visits: 42
            - timestamp: '2024-08-11T00:00:00'
              duration:	86400	
              site-visits: 76
            - timestamp: '2024-08-12T00:00:00'
              duration:	86400	
              site-visits: 226
            - timestamp: '2024-08-13T00:00:00'
              duration:	86400	
              site-visits: 180
            - timestamp: '2024-08-14T00:00:00'
              duration:	86400	
              site-visits: 232
            - timestamp: '2024-08-15T00:00:00'
              duration:	86400	
              site-visits: 175
            - timestamp: '2024-08-16T00:00:00'
              duration:	86400	
              site-visits: 235
            - timestamp: '2024-08-17T00:00:00'
              duration:	86400	
              site-visits: 44
            - timestamp: '2024-08-18T00:00:00'
              duration:	86400	
              site-visits: 31

        storing-static-site-data-at-origin-server:
          pipeline:
            observe:
            regroup:
            compute:
              - duration-in-hours        
              - static-site-size-in-tb
              - storage-energy-static-site-in-watts
              - storage-energy-in-wh-static-site
              - storage-energy-to-kwh-static-site
              - storage-energy-per-cdn-node        
              - storage-energy-for-entire-cdn
              - sum-serving-static-site-energy-components
              - energy-to-carbon
              - sci
          defaults:
            static-site-size-in-mb: 0.809473 # from google pagespeed api
            watts-per-tb: 1.2 # https://www.cloudcarbonfootprint.org/docs/methodology/#storage
            grid-intensity: 765.49 # US average
          inputs:
            - timestamp: '2024-07-22T00:00:00'
              duration:	86400	
              site-visits: 228
            - timestamp: '2024-07-23T00:00:00'
              duration:	86400	
              site-visits: 216
            - timestamp: '2024-07-24T00:00:00'
              duration:	86400	
              site-visits: 203
            - timestamp: '2024-07-25T00:00:00'
              duration:	86400	
              site-visits: 203
            - timestamp: '2024-07-26T00:00:00'
              duration:	86400	
              site-visits: 172
            - timestamp: '2024-07-27T00:00:00'
              duration:	86400	
              site-visits: 38
            - timestamp: '2024-07-28T00:00:00'
              duration:	86400	
              site-visits: 63
            - timestamp: '2024-07-29T00:00:00'
              duration:	86400	
              site-visits: 621
            - timestamp: '2024-07-30T00:00:00'
              duration:	86400	
              site-visits: 181
            - timestamp: '2024-07-31T00:00:00'
              duration:	86400	
              site-visits: 213
            - timestamp: '2024-08-01T00:00:00'
              duration:	86400	
              site-visits: 167
            - timestamp: '2024-08-02T00:00:00'
              duration:	86400	
              site-visits: 428
            - timestamp: '2024-08-03T00:00:00'
              duration:	86400	
              site-visits: 58
            - timestamp: '2024-08-04T00:00:00'
              duration:	86400	
              site-visits: 66
            - timestamp: '2024-08-05T00:00:00'
              duration:	86400	
              site-visits: 301
            - timestamp: '2024-08-06T00:00:00'
              duration:	86400	
              site-visits: 193
            - timestamp: '2024-08-07T00:00:00'
              duration:	86400	
              site-visits: 220
            - timestamp: '2024-08-08T00:00:00'
              duration:	86400	
              site-visits: 215
            - timestamp: '2024-08-09T00:00:00'
              duration:	86400	
              site-visits: 516
            - timestamp: '2024-08-10T00:00:00'
              duration:	86400	
              site-visits: 42
            - timestamp: '2024-08-11T00:00:00'
              duration:	86400	
              site-visits: 76
            - timestamp: '2024-08-12T00:00:00'
              duration:	86400	
              site-visits: 226
            - timestamp: '2024-08-13T00:00:00'
              duration:	86400	
              site-visits: 180
            - timestamp: '2024-08-14T00:00:00'
              duration:	86400	
              site-visits: 232
            - timestamp: '2024-08-15T00:00:00'
              duration:	86400	
              site-visits: 175
            - timestamp: '2024-08-16T00:00:00'
              duration:	86400	
              site-visits: 235
            - timestamp: '2024-08-17T00:00:00'
              duration:	86400	
              site-visits: 44
            - timestamp: '2024-08-18T00:00:00'
              duration:	86400	
              site-visits: 31

        embodied-carbon-for-web-server:
          pipeline:
            observe:
            regroup:
            compute:
              - embodied-carbon-web-server-origin
              - sci
          defaults:
            usage-ratio: 0.0008
          inputs:
            - timestamp: '2024-07-22T00:00:00'
              duration:	86400	
              site-visits: 228
            - timestamp: '2024-07-23T00:00:00'
              duration:	86400	
              site-visits: 216
            - timestamp: '2024-07-24T00:00:00'
              duration:	86400	
              site-visits: 203
            - timestamp: '2024-07-25T00:00:00'
              duration:	86400	
              site-visits: 203
            - timestamp: '2024-07-26T00:00:00'
              duration:	86400	
              site-visits: 172
            - timestamp: '2024-07-27T00:00:00'
              duration:	86400	
              site-visits: 38
            - timestamp: '2024-07-28T00:00:00'
              duration:	86400	
              site-visits: 63
            - timestamp: '2024-07-29T00:00:00'
              duration:	86400	
              site-visits: 621
            - timestamp: '2024-07-30T00:00:00'
              duration:	86400	
              site-visits: 181
            - timestamp: '2024-07-31T00:00:00'
              duration:	86400	
              site-visits: 213
            - timestamp: '2024-08-01T00:00:00'
              duration:	86400	
              site-visits: 167
            - timestamp: '2024-08-02T00:00:00'
              duration:	86400	
              site-visits: 428
            - timestamp: '2024-08-03T00:00:00'
              duration:	86400	
              site-visits: 58
            - timestamp: '2024-08-04T00:00:00'
              duration:	86400	
              site-visits: 66
            - timestamp: '2024-08-05T00:00:00'
              duration:	86400	
              site-visits: 301
            - timestamp: '2024-08-06T00:00:00'
              duration:	86400	
              site-visits: 193
            - timestamp: '2024-08-07T00:00:00'
              duration:	86400	
              site-visits: 220
            - timestamp: '2024-08-08T00:00:00'
              duration:	86400	
              site-visits: 215
            - timestamp: '2024-08-09T00:00:00'
              duration:	86400	
              site-visits: 516
            - timestamp: '2024-08-10T00:00:00'
              duration:	86400	
              site-visits: 42
            - timestamp: '2024-08-11T00:00:00'
              duration:	86400	
              site-visits: 76
            - timestamp: '2024-08-12T00:00:00'
              duration:	86400	
              site-visits: 226
            - timestamp: '2024-08-13T00:00:00'
              duration:	86400	
              site-visits: 180
            - timestamp: '2024-08-14T00:00:00'
              duration:	86400	
              site-visits: 232
            - timestamp: '2024-08-15T00:00:00'
              duration:	86400	
              site-visits: 175
            - timestamp: '2024-08-16T00:00:00'
              duration:	86400	
              site-visits: 235
            - timestamp: '2024-08-17T00:00:00'
              duration:	86400	
              site-visits: 44
            - timestamp: '2024-08-18T00:00:00'
              duration:	86400	
              site-visits: 31

        embodied-carbon-for-cdn:
          pipeline:
            observe:
            regroup:
            compute:
              - embodied-carbon-web-server-cdn
              - sci
          defaults:
            usage-ratio: 0.0008
          inputs:
            - timestamp: '2024-07-22T00:00:00'
              duration:	86400	
              site-visits: 228
            - timestamp: '2024-07-23T00:00:00'
              duration:	86400	
              site-visits: 216
            - timestamp: '2024-07-24T00:00:00'
              duration:	86400	
              site-visits: 203
            - timestamp: '2024-07-25T00:00:00'
              duration:	86400	
              site-visits: 203
            - timestamp: '2024-07-26T00:00:00'
              duration:	86400	
              site-visits: 172
            - timestamp: '2024-07-27T00:00:00'
              duration:	86400	
              site-visits: 38
            - timestamp: '2024-07-28T00:00:00'
              duration:	86400	
              site-visits: 63
            - timestamp: '2024-07-29T00:00:00'
              duration:	86400	
              site-visits: 621
            - timestamp: '2024-07-30T00:00:00'
              duration:	86400	
              site-visits: 181
            - timestamp: '2024-07-31T00:00:00'
              duration:	86400	
              site-visits: 213
            - timestamp: '2024-08-01T00:00:00'
              duration:	86400	
              site-visits: 167
            - timestamp: '2024-08-02T00:00:00'
              duration:	86400	
              site-visits: 428
            - timestamp: '2024-08-03T00:00:00'
              duration:	86400	
              site-visits: 58
            - timestamp: '2024-08-04T00:00:00'
              duration:	86400	
              site-visits: 66
            - timestamp: '2024-08-05T00:00:00'
              duration:	86400	
              site-visits: 301
            - timestamp: '2024-08-06T00:00:00'
              duration:	86400	
              site-visits: 193
            - timestamp: '2024-08-07T00:00:00'
              duration:	86400	
              site-visits: 220
            - timestamp: '2024-08-08T00:00:00'
              duration:	86400	
              site-visits: 215
            - timestamp: '2024-08-09T00:00:00'
              duration:	86400	
              site-visits: 516
            - timestamp: '2024-08-10T00:00:00'
              duration:	86400	
              site-visits: 42
            - timestamp: '2024-08-11T00:00:00'
              duration:	86400	
              site-visits: 76
            - timestamp: '2024-08-12T00:00:00'
              duration:	86400	
              site-visits: 226
            - timestamp: '2024-08-13T00:00:00'
              duration:	86400	
              site-visits: 180
            - timestamp: '2024-08-14T00:00:00'
              duration:	86400	
              site-visits: 232
            - timestamp: '2024-08-15T00:00:00'
              duration:	86400	
              site-visits: 175
            - timestamp: '2024-08-16T00:00:00'
              duration:	86400	
              site-visits: 235
            - timestamp: '2024-08-17T00:00:00'
              duration:	86400	
              site-visits: 44
            - timestamp: '2024-08-18T00:00:00'
              duration:	86400	
              site-visits: 31
      
        embodied-carbon-for-github-server:
          pipeline:
            observe:
            regroup:
            compute:
              - embodied-carbon-github
              - sci
          defaults:
            usage-ratio: 3.0298666666666667e-08
            vCPUs: 160
            memory: 1280
          inputs:
            - timestamp: '2024-07-22T00:00:00'
              duration:	86400	
              site-visits: 228
            - timestamp: '2024-07-23T00:00:00'
              duration:	86400	
              site-visits: 216
            - timestamp: '2024-07-24T00:00:00'
              duration:	86400	
              site-visits: 203
            - timestamp: '2024-07-25T00:00:00'
              duration:	86400	
              site-visits: 203
            - timestamp: '2024-07-26T00:00:00'
              duration:	86400	
              site-visits: 172
            - timestamp: '2024-07-27T00:00:00'
              duration:	86400	
              site-visits: 38
            - timestamp: '2024-07-28T00:00:00'
              duration:	86400	
              site-visits: 63
            - timestamp: '2024-07-29T00:00:00'
              duration:	86400	
              site-visits: 621
            - timestamp: '2024-07-30T00:00:00'
              duration:	86400	
              site-visits: 181
            - timestamp: '2024-07-31T00:00:00'
              duration:	86400	
              site-visits: 213
            - timestamp: '2024-08-01T00:00:00'
              duration:	86400	
              site-visits: 167
            - timestamp: '2024-08-02T00:00:00'
              duration:	86400	
              site-visits: 428
            - timestamp: '2024-08-03T00:00:00'
              duration:	86400	
              site-visits: 58
            - timestamp: '2024-08-04T00:00:00'
              duration:	86400	
              site-visits: 66
            - timestamp: '2024-08-05T00:00:00'
              duration:	86400	
              site-visits: 301
            - timestamp: '2024-08-06T00:00:00'
              duration:	86400	
              site-visits: 193
            - timestamp: '2024-08-07T00:00:00'
              duration:	86400	
              site-visits: 220
            - timestamp: '2024-08-08T00:00:00'
              duration:	86400	
              site-visits: 215
            - timestamp: '2024-08-09T00:00:00'
              duration:	86400	
              site-visits: 516
            - timestamp: '2024-08-10T00:00:00'
              duration:	86400	
              site-visits: 42
            - timestamp: '2024-08-11T00:00:00'
              duration:	86400	
              site-visits: 76
            - timestamp: '2024-08-12T00:00:00'
              duration:	86400	
              site-visits: 226
            - timestamp: '2024-08-13T00:00:00'
              duration:	86400	
              site-visits: 180
            - timestamp: '2024-08-14T00:00:00'
              duration:	86400	
              site-visits: 232
            - timestamp: '2024-08-15T00:00:00'
              duration:	86400	
              site-visits: 175
            - timestamp: '2024-08-16T00:00:00'
              duration:	86400	
              site-visits: 235
            - timestamp: '2024-08-17T00:00:00'
              duration:	86400	
              site-visits: 44
            - timestamp: '2024-08-18T00:00:00'
              duration:	86400	
              site-visits: 31

      network:
        networking-energy-to-serve-static-site-over-the-wire:
          pipeline:
            observe:
            regroup:
            compute:
              - static-site-size-in-gb
              - network-energy-serving-static-site-per-view
              - network-energy-serving-static-site-total
              - energy-to-carbon
              - sci
          defaults:
            static-site-size-in-mb: 0.809473 # from google pagespeed api
            kwh-per-gb-network: 0.001 # https://www.cloudcarbonfootprint.org/docs/methodology/#networking
            watts-per-tb: 1.2 # https://www.cloudcarbonfootprint.org/docs/methodology/#storage
            grid-intensity: 765.49 # US average
            visits-per-month: 325 # from google analytics
          inputs:
              - timestamp: '2024-07-22T00:00:00'
                duration:	86400	
                site-visits: 228
              - timestamp: '2024-07-23T00:00:00'
                duration:	86400	
                site-visits: 216
              - timestamp: '2024-07-24T00:00:00'
                duration:	86400	
                site-visits: 203
              - timestamp: '2024-07-25T00:00:00'
                duration:	86400	
                site-visits: 203
              - timestamp: '2024-07-26T00:00:00'
                duration:	86400	
                site-visits: 172
              - timestamp: '2024-07-27T00:00:00'
                duration:	86400	
                site-visits: 38
              - timestamp: '2024-07-28T00:00:00'
                duration:	86400	
                site-visits: 63
              - timestamp: '2024-07-29T00:00:00'
                duration:	86400	
                site-visits: 621
              - timestamp: '2024-07-30T00:00:00'
                duration:	86400	
                site-visits: 181
              - timestamp: '2024-07-31T00:00:00'
                duration:	86400	
                site-visits: 213
              - timestamp: '2024-08-01T00:00:00'
                duration:	86400	
                site-visits: 167
              - timestamp: '2024-08-02T00:00:00'
                duration:	86400	
                site-visits: 428
              - timestamp: '2024-08-03T00:00:00'
                duration:	86400	
                site-visits: 58
              - timestamp: '2024-08-04T00:00:00'
                duration:	86400	
                site-visits: 66
              - timestamp: '2024-08-05T00:00:00'
                duration:	86400	
                site-visits: 301
              - timestamp: '2024-08-06T00:00:00'
                duration:	86400	
                site-visits: 193
              - timestamp: '2024-08-07T00:00:00'
                duration:	86400	
                site-visits: 220
              - timestamp: '2024-08-08T00:00:00'
                duration:	86400	
                site-visits: 215
              - timestamp: '2024-08-09T00:00:00'
                duration:	86400	
                site-visits: 516
              - timestamp: '2024-08-10T00:00:00'
                duration:	86400	
                site-visits: 42
              - timestamp: '2024-08-11T00:00:00'
                duration:	86400	
                site-visits: 76
              - timestamp: '2024-08-12T00:00:00'
                duration:	86400	
                site-visits: 226
              - timestamp: '2024-08-13T00:00:00'
                duration:	86400	
                site-visits: 180
              - timestamp: '2024-08-14T00:00:00'
                duration:	86400	
                site-visits: 232
              - timestamp: '2024-08-15T00:00:00'
                duration:	86400	
                site-visits: 175
              - timestamp: '2024-08-16T00:00:00'
                duration:	86400	
                site-visits: 235
              - timestamp: '2024-08-17T00:00:00'
                duration:	86400	
                site-visits: 44
              - timestamp: '2024-08-18T00:00:00'
                duration:	86400	
                site-visits: 31

    user:
      children:
        end-user-operational-carbon:
          pipeline:
            observe:
            regroup:
            compute:
              - static-site-size-in-gb
              - end-user-energy
              - energy-to-carbon
              - sci
          defaults:
            end-user-energy-coefficient: 0.080 # https://sustainablewebdesign.org/estimating-digital-emissions/
            static-site-size-in-mb: 0.809473 # from google pagespeed api
            kwh-per-gb-network: 0.001 # https://www.cloudcarbonfootprint.org/docs/methodology/#networking
            grid-intensity: 765.49 # US average
            visits-per-month: 325 # from google analytics
          inputs:
            - timestamp: '2024-07-22T00:00:00'
              duration:	86400	
              site-visits: 228
            - timestamp: '2024-07-23T00:00:00'
              duration:	86400	
              site-visits: 216
            - timestamp: '2024-07-24T00:00:00'
              duration:	86400	
              site-visits: 203
            - timestamp: '2024-07-25T00:00:00'
              duration:	86400	
              site-visits: 203
            - timestamp: '2024-07-26T00:00:00'
              duration:	86400	
              site-visits: 172
            - timestamp: '2024-07-27T00:00:00'
              duration:	86400	
              site-visits: 38
            - timestamp: '2024-07-28T00:00:00'
              duration:	86400	
              site-visits: 63
            - timestamp: '2024-07-29T00:00:00'
              duration:	86400	
              site-visits: 621
            - timestamp: '2024-07-30T00:00:00'
              duration:	86400	
              site-visits: 181
            - timestamp: '2024-07-31T00:00:00'
              duration:	86400	
              site-visits: 213
            - timestamp: '2024-08-01T00:00:00'
              duration:	86400	
              site-visits: 167
            - timestamp: '2024-08-02T00:00:00'
              duration:	86400	
              site-visits: 428
            - timestamp: '2024-08-03T00:00:00'
              duration:	86400	
              site-visits: 58
            - timestamp: '2024-08-04T00:00:00'
              duration:	86400	
              site-visits: 66
            - timestamp: '2024-08-05T00:00:00'
              duration:	86400	
              site-visits: 301
            - timestamp: '2024-08-06T00:00:00'
              duration:	86400	
              site-visits: 193
            - timestamp: '2024-08-07T00:00:00'
              duration:	86400	
              site-visits: 220
            - timestamp: '2024-08-08T00:00:00'
              duration:	86400	
              site-visits: 215
            - timestamp: '2024-08-09T00:00:00'
              duration:	86400	
              site-visits: 516
            - timestamp: '2024-08-10T00:00:00'
              duration:	86400	
              site-visits: 42
            - timestamp: '2024-08-11T00:00:00'
              duration:	86400	
              site-visits: 76
            - timestamp: '2024-08-12T00:00:00'
              duration:	86400	
              site-visits: 226
            - timestamp: '2024-08-13T00:00:00'
              duration:	86400	
              site-visits: 180
            - timestamp: '2024-08-14T00:00:00'
              duration:	86400	
              site-visits: 232
            - timestamp: '2024-08-15T00:00:00'
              duration:	86400	
              site-visits: 175
            - timestamp: '2024-08-16T00:00:00'
              duration:	86400	
              site-visits: 235
            - timestamp: '2024-08-17T00:00:00'
              duration:	86400	
              site-visits: 44
            - timestamp: '2024-08-18T00:00:00'
              duration:	86400	
              site-visits: 31

        embodied-carbon-for-end-user-devices:
          pipeline:
            observe:
            regroup:
            compute:
              - embodied-carbon-devices
              - total-embodied-carbon
              - sci
          defaults:
            time: 40
          inputs:
            - timestamp: '2024-07-22T00:00:00'
              duration:	86400	
              site-visits: 228
            - timestamp: '2024-07-23T00:00:00'
              duration:	86400	
              site-visits: 216
            - timestamp: '2024-07-24T00:00:00'
              duration:	86400	
              site-visits: 203
            - timestamp: '2024-07-25T00:00:00'
              duration:	86400	
              site-visits: 203
            - timestamp: '2024-07-26T00:00:00'
              duration:	86400	
              site-visits: 172
            - timestamp: '2024-07-27T00:00:00'
              duration:	86400	
              site-visits: 38
            - timestamp: '2024-07-28T00:00:00'
              duration:	86400	
              site-visits: 63
            - timestamp: '2024-07-29T00:00:00'
              duration:	86400	
              site-visits: 621
            - timestamp: '2024-07-30T00:00:00'
              duration:	86400	
              site-visits: 181
            - timestamp: '2024-07-31T00:00:00'
              duration:	86400	
              site-visits: 213
            - timestamp: '2024-08-01T00:00:00'
              duration:	86400	
              site-visits: 167
            - timestamp: '2024-08-02T00:00:00'
              duration:	86400	
              site-visits: 428
            - timestamp: '2024-08-03T00:00:00'
              duration:	86400	
              site-visits: 58
            - timestamp: '2024-08-04T00:00:00'
              duration:	86400	
              site-visits: 66
            - timestamp: '2024-08-05T00:00:00'
              duration:	86400	
              site-visits: 301
            - timestamp: '2024-08-06T00:00:00'
              duration:	86400	
              site-visits: 193
            - timestamp: '2024-08-07T00:00:00'
              duration:	86400	
              site-visits: 220
            - timestamp: '2024-08-08T00:00:00'
              duration:	86400	
              site-visits: 215
            - timestamp: '2024-08-09T00:00:00'
              duration:	86400	
              site-visits: 516
            - timestamp: '2024-08-10T00:00:00'
              duration:	86400	
              site-visits: 42
            - timestamp: '2024-08-11T00:00:00'
              duration:	86400	
              site-visits: 76
            - timestamp: '2024-08-12T00:00:00'
              duration:	86400	
              site-visits: 226
            - timestamp: '2024-08-13T00:00:00'
              duration:	86400	
              site-visits: 180
            - timestamp: '2024-08-14T00:00:00'
              duration:	86400	
              site-visits: 232
            - timestamp: '2024-08-15T00:00:00'
              duration:	86400	
              site-visits: 175
            - timestamp: '2024-08-16T00:00:00'
              duration:	86400	
              site-visits: 235
            - timestamp: '2024-08-17T00:00:00'
              duration:	86400	
              site-visits: 44
            - timestamp: '2024-08-18T00:00:00'
              duration:	86400	
              site-visits: 31
