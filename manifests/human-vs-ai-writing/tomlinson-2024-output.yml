name: Human vs ai writing and illustrations
description: >-
  Aims to replicate the methodology described by Tomlinson et al 2024
  (https://www.nature.com/articles/s41598-024-54271-x#data-availibility)
tags: null
explainer: true
initialize:
  plugins:
    divide-training-carbon-by-queries-per-month-bloom:
      path: builtin
      method: Divide
      config:
        numerator: training-carbon-bloom
        denominator: queries-per-month-bloom
        output: carbon-per-query-bloom-training
      parameter-metadata:
        inputs:
          training-carbon-bloom:
            unit: gCO2e
            description: >-
              Carbon used to train BLOOM model, per
              https://arxiv.org/abs/2211.02001.
            aggregation-method:
              time: sum
              component: sum
          queries-per-month-bloom:
            unit: queries
            description: >-
              Number of queries to amortize training carbon over, per
              https://medium.com/@chrispointon/the-carbon-footprint-of-chatgpt-e1bc14e4cc2a.
            aggregation-method:
              time: sum
              component: sum
        outputs:
          carbon-per-query-bloom:
            unit: gCO2e/query
            description: >-
              Carbon emitted during bloom model training normalized per query.
              In paper supp info sheet it is cell B13.
            aggregation-method:
              time: sum
              component: sum
    divide-inference-carbon-by-n-queries-bloom:
      path: builtin
      method: Divide
      config:
        numerator: carbon-per-n-queries-bloom
        denominator: n-queries-in-bloom-study
        output: carbon-per-query-bloom-inference
      parameter-metadata:
        inputs:
          carbon-per-n-queries-bloom:
            unit: gCO2e
            description: >-
              Carbon used during inference for a time period during which 230768
              queries were made, per https://arxiv.org/abs/2211.02001.
            aggregation-method:
              time: sum
              component: sum
          n-queries-in-bloom-study:
            unit: queries
            description: >-
              Number of queries made during a study period, per
              https://arxiv.org/abs/2211.02001.
            aggregation-method:
              time: sum
              component: sum
        outputs:
          carbon-per-query-bloom-inference:
            unit: gCO2e/query
            description: >-
              Carbon emitted per query for model inference. In the paper's supp
              info sheet it is cell B6.
            aggregation-method:
              time: sum
              component: sum
    divide-embodied-carbon-of-gpu-by-queries-per-month-bloom:
      path: builtin
      method: Divide
      config:
        numerator: bloom-gpu-embodied-carbon
        denominator: queries-per-month-bloom
        output: embodied-carbon-per-query-bloom
      parameter-metadata:
        inputs:
          bloom-gpu-embodied-carbon:
            unit: gCO2e
            description: Embodied carbon of the GPU used to train BLOOM.
            aggregation-method:
              time: sum
              component: sum
          queries-per-month-bloom:
            unit: queries
            description: >-
              Number of queries to amortize training carbon over, per
              https://medium.com/@chrispointon/the-carbon-footprint-of-chatgpt-e1bc14e4cc2a.
            aggregation-method:
              time: sum
              component: sum
        outputs:
          embodied-carbon-per-query-bloom:
            unit: gCO2e/query
            description: Embodied carbon attributed to GPUs used to train bloom model.
            aggregation-method:
              time: sum
              component: sum
    sum-embodied-carbon-components-bloom:
      path: builtin
      method: Sum
      config:
        input-parameters:
          - embodied-energy-of-a100-gpu
          - carbon-footprint-for-recycling-gpu
        output-parameter: embodied-carbon-bloom
      parameter-metadata:
        inputs:
          embodied-carbon-of-a100-gpu:
            unit: gCO2e
            description: >-
              embodied carbon for a100 GPUs used for training bloom, per
              https://arxiv.org/abs/2211.02001.
            aggregation-method:
              time: sum
              component: sum
          carbon-footprint-for-recycling-gpu:
            unit: queries
            description: >-
              Carbon footprint for gpu recycling, per
              https://circularcomputing.com/news/carbon-footprint-laptop/.
            aggregation-method:
              time: sum
              component: sum
        outputs:
          embodied-carbon-bloom:
            unit: gCO2e
            description: >-
              total-embodied carbon emitted by gpu production and recycling for
              bloom model. In paper supp info sheet, it is cell B41.
            aggregation-method:
              time: sum
              component: sum
    scale-embodied-carbon-to-training-time-period-bloom:
      path: builtin
      method: Multiply
      config:
        input-parameters:
          - embodied-carbon-bloom
          - fraction-of-gpu-lifetime-used-for-training-bloom
        output-parameter: embodied-carbon-bloom-scaled-by-time
      parameter-metadata:
        inputs:
          embodied-carbon-bloom:
            unit: gCO2e
            description: >-
              Embodied carbon allocated to training bloom, as sum of gpu
              embodied and carbon emitted in recycling.
            aggregation-method:
              time: sum
              component: sum
          fraction-of-gpu-lifetime-used-for-training-bloom:
            unit: queries
            description: >-
              ratio of 1082 training hours to 1.5 year lifespan, per
              https://screenrant.com/when-is-nvidia-releasing-new-graphics-cards/.
            aggregation-method:
              time: sum
              component: sum
        outputs:
          embodied-carbon-bloom-scaled-by-time:
            unit: gCO2e
            description: >-
              Embodied carbon of bloom training scaled by the ratio of training
              time to hardware lifespan.
            aggregation-method:
              time: sum
              component: sum
    scale-embodied-carbon-to-queries-per-month-bloom:
      path: builtin
      method: Divide
      config:
        numerator: embodied-carbon-bloom-scaled-by-time
        denominator: queries-per-month-bloom
        output: embodied-carbon-per-query-bloom
      parameter-metadata:
        inputs:
          embodied-carbon-bloom-scaled-by-time:
            unit: gCO2e
            description: >-
              Embodied carbon of bloom training scaled by the ratio of training
              time to hardware lifespan.
            aggregation-method:
              time: sum
              component: sum
          queries-per-month-bloom:
            unit: queries
            description: assumed number of queries per month used to scale carbon.
            aggregation-method:
              time: sum
              component: sum
        outputs:
          embodied-carbon-per-query-bloom:
            unit: gCO2e/query
            description: >-
              Embodied carbon of bloom training scaled by the ratio of training
              time to hardware lifespan and queries per month.
            aggregation-method:
              time: sum
              component: sum
    convert-carbon-per-query-to-carbon-per-word-bloom:
      path: builtin
      method: Multiply
      config:
        input-parameters:
          - total-carbon-per-query-bloom
          - words-per-page
        output-parameter: carbon-per-word-bloom
      parameter-metadata:
        inputs:
          carbon-per-query-bloom:
            unit: gCO2e/query
            description: Carbon per query for bloom model.
            aggregation-method:
              time: sum
              component: sum
          words-per-page:
            unit: words
            description: >-
              Number of words on a page of writing, per common knowledge, or
              https://wordcounter.net/words-per-page.
            aggregation-method:
              time: sum
              component: sum
        outputs:
          carbon-per-word-bloom:
            unit: gCO2e/word
            description: >-
              Carbon emitted per word in a 250-word page of writing. In paper
              supp info sheet it is cell B15 * B19, a component of cell B69.
            aggregation-method:
              time: sum
              component: sum
    sum-training-and-inference-carbon-per-query-bloom:
      path: builtin
      method: Sum
      config:
        input-parameters:
          - carbon-per-query-bloom-training
          - carbon-per-query-bloom-inference
        output-parameter: total-carbon-per-query-bloom
        inputs:
          carbon-per-query-bloom-training:
            unit: gCO2e/query
            description: carbon emitted during model training.
            aggregation-method:
              time: sum
              component: sum
          carbon-per-query-bloom-inference:
            unit: gCO2e/query
            description: carbon emitted during model inference.
            aggregation-method:
              time: sum
              component: sum
        outputs:
          total-carbon-per-query-bloom:
            unit: gCO2e/query
            description: >-
              total carbon emitted per query by bloom model, as sum of training
              and inference carbon. In paper supp info sheet, it is cell B15.
            aggregation-method:
              time: sum
              component: sum
    sum-words-per-query-and-embodied-carbon-per-query-bloom:
      path: builtin
      method: Sum
      config:
        input-parameters:
          - words-per-bloom-response
          - embodied-carbon-per-query-bloom
        output-parameter: intermediate-value-summing-words-per-response-and-carbon-per-response
      parameter-metadata:
        inputs:
          words-per-bloom-response:
            unit: words
            description: number of words returned per bloom model response.
            aggregation-method:
              time: sum
              component: sum
          embodied-carbon-per-query-bloom:
            unit: gCO2e/query
            description: >-
              Embodied carbon of bloom training scaled by the ratio of training
              time to hardware lifespan and queries per month.
            aggregation-method:
              time: sum
              component: sum
        outputs:
          intermediate-value-summing-words-per-response-and-carbon-per-response:
            unit: Not sure!
            description: >-
              A summation of words per response and carbon per response. Not
              currently understanding this step in the pipeline. I think maybe
              they should have multiplied not added.
            aggregation-method:
              time: sum
              component: sum
    calculate-total-footprint-per-page-bloom:
      path: builtin
      method: Divide
      config:
        numerator: carbon-per-word-bloom
        denominator: intermediate-value-summing-words-per-response-and-carbon-per-response
        output: carbon-per-page
      parameter-metadata:
        inputs:
          carbon-per-word-bloom:
            unit: gCO2e/word
            description: carbon emitted per word for bloom model.
            aggregation-method:
              time: sum
              component: sum
          intermediate-value-summing-words-per-response-and-carbon-per-response:
            unit: Not sure!
            description: >-
              A summation of words per response and carbon per response. Not
              currently understanding this step in the pipeline.
            aggregation-method:
              time: sum
              component: sum
        outputs:
          carbon-per-page:
            unit: gCO2e/page
            description: >-
              Carbon emitted per page of writing done using bloom model. In
              paper supp info sheet it is cell B69.
            aggregation-method:
              time: sum
              component: sum
    divide-training-carbon-by-queries-per-month-chat-gpt:
      path: builtin
      method: Divide
      config:
        numerator: training-carbon-chat-gpt
        denominator: queries-per-month-chat-gpt
        output: carbon-per-query-chat-gpt-training
      parameter-metadata:
        inputs:
          training-carbon-chat-gpt:
            unit: gCO2e
            description: >-
              Carbon used to train chat-gpt model, per
              https://medium.com/@chrispointon/the-carbon-footprint-of-chatgpt-e1bc14e4cc2a.
            aggregation-method:
              time: sum
              component: sum
          queries-per-month-chat-gpt:
            unit: queries
            description: >-
              Number of queries to amortize training carbon over, per
              https://medium.com/@chrispointon/the-carbon-footprint-of-chatgpt-e1bc14e4cc2a.
            aggregation-method:
              time: sum
              component: sum
        outputs:
          carbon-per-query-chat-gpt-training:
            unit: gCO2e
            description: >-
              Carbon emitted during chat-gpt model training normalized per
              query. In paper supp info sheet it is cell B12.
            aggregation-method:
              time: sum
              component: sum
    divide-inference-carbon-by-n-queries-chat-gpt:
      path: builtin
      method: Divide
      config:
        numerator: operational-carbon-per-day-chat-gpt
        denominator: queries-per-day-chat-gpt
        output: carbon-per-query-chat-gpt-inference
      parameter-metadata:
        inputs:
          operational-carbon-per-day-chat-gpt:
            unit: gCO2e
            description: >-
              Carbon emitted per day for inference by chat-gpt, per
              https://medium.com/@chrispointon/the-carbon-footprint-of-chatgpt-e1bc14e4cc2a.
            aggregation-method:
              time: sum
              component: sum
          queries-per-day-chat-gpt:
            unit: queries
            description: >-
              Number of queries made per day to chat gpt, per
              https://medium.com/@chrispointon/the-carbon-footprint-of-chatgpt-e1bc14e4cc2a.
            aggregation-method:
              time: sum
              component: sum
        outputs:
          carbon-per-query-chat-gpt-inference:
            unit: gCO2e/query
            description: >-
              Carbon emitted per query for model inference. In the paper's supp
              info sheet it is cell B10.
            aggregation-method:
              time: sum
              component: sum
    sum-training-and-inference-carbon-per-query:
      path: builtin
      method: Sum
      config:
        input-parameters:
          - carbon-per-query-chat-gpt-training
          - carbon-per-query-chat-gpt-inference
        output-parameter: total-carbon-per-query-chat-gpt
        inputs:
          carbon-per-query-chat-gpt-training:
            unit: gCO2e/query
            description: carbon emitted during model training.
            aggregation-method:
              time: sum
              component: sum
          carbon-per-query-chat-gpt-inference:
            unit: gCO2e/query
            description: carbon emitted during model inference.
            aggregation-method:
              time: sum
              component: sum
        outputs:
          total-carbon-per-query-chat-gpt:
            unit: gCO2e/query
            description: >-
              total carbon emitted per query by chat-gpt model, as sum of
              training and inference carbon. In paper supp info sheet, it is
              cell B14.
            aggregation-method:
              time: sum
              component: sum
    sum-embodied-carbon-components-chat-gpt:
      path: builtin
      method: Sum
      config:
        input-parameters:
          - embodied-energy-of-a100-gpu
          - carbon-footprint-for-recycling-gpu
        output-parameter: embodied-carbon-chat-gpt
      parameter-metadata:
        inputs:
          embodied-carbon-of-a100-gpu:
            unit: gCO2e
            description: >-
              embodied carbon for a100 GPUs used for training chat-gpt, per
              https://arxiv.org/abs/2211.02001.
            aggregation-method:
              time: sum
              component: sum
          carbon-footprint-for-recycling-gpu:
            unit: queries
            description: >-
              Carbon footprint for gpu recycling, per
              https://circularcomputing.com/news/carbon-footprint-laptop/.
            aggregation-method:
              time: sum
              component: sum
        outputs:
          embodied-carbon-chat-gpt:
            unit: gCO2e
            description: >-
              total-embodied carbon emitted by gpu production and recycling for
              chat-gpt model. In paper supp info sheet, it is cell B41.
            aggregation-method:
              time: sum
              component: sum
    scale-embodied-carbon-to-training-time-period-chat-gpt:
      path: builtin
      method: Multiply
      config:
        input-parameters:
          - embodied-carbon-chat-gpt
          - fraction-of-gpu-lifetime-used-for-training-chat-gpt
        output-parameter: embodied-carbon-chat-gpt-scaled-by-time
      parameter-metadata:
        inputs:
          embodied-carbon-chat-gpt:
            unit: gCO2e
            description: >-
              Embodied carbon allocated to training chat-gpt, as sum of gpu
              embodied and carbon emitted in recycling.
            aggregation-method:
              time: sum
              component: sum
          fraction-of-gpu-lifetime-used-for-training-chat-gpt:
            unit: queries
            description: >-
              ratio of 1082 training hours to 1.5 year lifespan, per
              https://screenrant.com/when-is-nvidia-releasing-new-graphics-cards/.
            aggregation-method:
              time: sum
              component: sum
        outputs:
          embodied-carbon-chat-gpt-scaled-by-time:
            unit: gCO2e
            description: >-
              Embodied carbon of chat-gpt training scaled by the ratio of
              training time to hardware lifespan. In paper supp info sheet it is
              cell B51.
            aggregation-method:
              time: sum
              component: sum
    scale-embodied-carbon-to-queries-per-month-chat-gpt:
      path: builtin
      method: Divide
      config:
        numerator: embodied-carbon-chat-gpt-scaled-by-time
        denominator: queries-per-month-chat-gpt
        output: embodied-carbon-per-query-chat-gpt
      parameter-metadata:
        inputs:
          embodied-carbon-chat-gpt-scaled-by-time:
            unit: gCO2e
            description: >-
              Embodied carbon of chat-gpt training scaled by the ratio of
              training time to hardware lifespan.
            aggregation-method:
              time: sum
              component: sum
          queries-per-month-chat-gpt:
            unit: queries
            description: assumed number of queries per month used to scale carbon.
            aggregation-method:
              time: sum
              component: sum
        outputs:
          embodied-carbon-per-query-chat-gpt:
            unit: gCO2e
            description: >-
              Embodied carbon of chat-gpt training scaled by the ratio of
              training time to hardware lifespan and queries per month. In paper
              sup[info sheet it is cell B53.
            aggregation-method:
              time: sum
              component: sum
    convert-carbon-per-query-to-carbon-per-word-chat-gpt:
      path: builtin
      method: Multiply
      config:
        input-parameters:
          - total-carbon-per-query-chat-gpt
          - words-per-page
        output-parameter: carbon-per-word-chat-gpt
      parameter-metadata:
        inputs:
          carbon-per-query-chat-gpt:
            unit: gCO2e
            description: Carbon per query for chat-gpt model.
            aggregation-method:
              time: sum
              component: sum
          words-per-page:
            unit: words
            description: >-
              Number of words on a page of writing, per common knowledge, or
              https://wordcounter.net/words-per-page.
            aggregation-method:
              time: sum
              component: sum
        outputs:
          carbon-per-word-chat-gpt:
            unit: gCO2e/word
            description: >-
              Carbon emitted per word in a 250-word page of writing. In paper
              supp info sheet it is cell B14 * B19, a component of cell B69.
            aggregation-method:
              time: sum
              component: sum
    sum-words-per-query-and-embodied-carbon-per-query-chat-gpt:
      path: builtin
      method: Sum
      config:
        input-parameters:
          - words-per-chat-gpt-response
          - embodied-carbon-per-query-chat-gpt
        output-parameter: intermediate-value-summing-words-per-response-and-carbon-per-response
      parameter-metadata:
        inputs:
          words-per-chat-gpt-response:
            unit: words
            description: number of words returned per chat-gpt model response.
            aggregation-method:
              time: sum
              component: sum
          embodied-carbon-per-query-chat-gpt:
            unit: gCO2e
            description: >-
              Embodied carbon of chat-gpt training scaled by the ratio of
              training time to hardware lifespan and queries per month.
            aggregation-method:
              time: sum
              component: sum
        outputs:
          intermediate-value-summing-words-per-response-and-carbon-per-response:
            unit: Not sure!
            description: >-
              A summation of words per response and carbon per response. Not
              currently understanding this step in the pipeline. I think maybe
              they should have multiplied not added.
            aggregation-method:
              time: sum
              component: sum
    calculate-total-footprint-per-page-chat-gpt:
      path: builtin
      method: Divide
      config:
        numerator: carbon-per-word-chat-gpt
        denominator: intermediate-value-summing-words-per-response-and-carbon-per-response
        output: carbon-per-page
      parameter-metadata:
        inputs:
          carbon-per-word-chat-gpt:
            unit: gCO2e/word
            description: carbon emitted per word for chat-gpt model.
            aggregation-method:
              time: sum
              component: sum
          intermediate-value-summing-words-per-response-and-carbon-per-response:
            unit: Not sure!
            description: >-
              A summation of words per response and carbon per response. Not
              currently understanding this step in the pipeline.
            aggregation-method:
              time: sum
              component: sum
        outputs:
          carbon-per-page:
            unit: gCO2e/page
            description: >-
              Carbon emitted per page of writing done using chat-gpt model. In
              paper supp info it is cell B68.
            aggregation-method:
              time: sum
              component: sum
    compute-writing-rate-in-hours-per-page:
      path: builtin
      method: Divide
      config:
        numerator: writing-rate-words-per-page
        denominator: writing-rate-words-per-hour
        output: writing-rate-hours-per-page
      parameter-metadata:
        inputs:
          writing-rate-words-per-page:
            unit: words/page
            description: >-
              number of words on a page of writing, per common knowledge, or
              https://wordcounter.net/words-per-page
            aggregation-method:
              time: copy
              component: copy
          writing-rate-words-per-hour:
            unit: words/hour
            description: number of words a human writes in an hour
            aggregation-method:
              time: sum
              component: sum
        outputs:
          writing-rate-hours-per-page:
            unit: hours/page
            description: >-
              How long it takes a human to write a page of text. Int he paper
              supp info sheet it is cell B20.
            aggregation-method:
              time: copy
              component: copy
    multiply-human-carbon-footprint-by-writing-rate:
      path: builtin
      method: Multiply
      config:
        input-parameters:
          - writing-rate-hours-per-page
          - human-footprint-in-gco2-per-hour
        output-parameter: carbon-per-page
      parameter-metadata:
        inputs:
          writing-rate-hours-per-page:
            unit: hours/page
            description: >-
              How long it takes a human to write a page of text. Int he paper
              supp info sheet it is cell B20.
            aggregation-method:
              time: copy
              component: copy
          human-footprint-in-gco2-per-hour:
            unit: gCO2e/hour
            description: >-
              ow much carbon a human emits per hour for a given country, from
              https://ourworldindata.org/co2-and-other-greenhouse-gas-emissions
              and scaled to per hour.In the paper supp info sheet it is cell B21
              or B22 (USA or India).
            aggregation-method:
              time: sum
              component: sum
        outputs:
          carbon-per-page:
            unit: gCO2e/page
            description: >-
              Ho wmuch carbon is emitted when a person writes a page of text. in
              the paper it is cell B72 (USA) or B73 (India)
            aggregation-method:
              time: sum
              component: sum
    multiply-laptop-footprint-by-writing-rate:
      path: builtin
      method: Multiply
      config:
        input-parameters:
          - laptop-footprint-in-gco2-per-hour
          - writing-rate-hours-per-page
        output-parameter: carbon-per-page
      parameter-metadata:
        inputs:
          laptop-footprint-in-gco2-per-hour:
            unit: gCO2/hour
            description: >-
              carbon footprint of a laptop per hour of usage, per
              https://www.epa.gov/energy/greenhouse-gas-equivalencies-calculator#results.
            aggregation-method:
              time: copy
              component: copy
          writing-rate-hours-per-page:
            unit: hours/page
            description: >-
              How long it takes a human to write a page of text. Int he paper
              supp info sheet it is cell B20.
            aggregation-method:
              time: copy
              component: copy
        outputs:
          carbon-per-page:
            unit: gCO2e/page
            description: >-
              How much carbon is emitted when a laptop is used to generate a
              page of text. In the paper it is cell B70
            aggregation-method:
              time: sum
              component: sum
    multiply-desktop-footprint-by-writing-rate:
      path: builtin
      method: Multiply
      config:
        input-parameters:
          - desktop-footprint-in-gco2-per-hour
          - writing-rate-hours-per-page
        output-parameter: carbon-per-page
      parameter-metadata:
        inputs:
          desktop-footprint-in-gco2-per-hour:
            unit: gCO2/hour
            description: >-
              carbon footprint of a desktop per hour of usage, per
              https://www.epa.gov/energy/greenhouse-gas-equivalencies-calculator#results.
            aggregation-method:
              time: copy
              component: copy
          writing-rate-hours-per-page:
            unit: hours/page
            description: >-
              How long it takes a human to write a page of text. Int he paper
              supp info sheet it is cell B20.
            aggregation-method:
              time: copy
              component: copy
        outputs:
          carbon-per-page:
            unit: gCO2e/page
            description: >-
              How much carbon is emitted when a desktop is used to generate a
              page of text. In the paper it is cell B71
            aggregation-method:
              time: sum
              component: sum
    sum-embodied-and-inference-for-dalle:
      path: builtin
      method: Sum
      config:
        input-parameters:
          - total-carbon-per-query-chat-gpt
          - embodied-carbon-per-query-chat-gpt
        output-parameter: total-carbon-per-image-dalle
      parameter-metadata:
        inputs:
          total-carbon-per-query-chat-gpt:
            unit: gCO2e/query
            description: >-
              total carbon emitted per query by chat-gpt model, as sum of
              training and inference carbon. In paper supp info sheet, it is
              cell B14.
            aggregation-method:
              time: sum
              component: sum
          embodied-carbon-per-query-chat-gpt:
            unit: gCO2e
            description: >-
              Embodied carbon of chat-gpt training scaled by the ratio of
              training time to hardware lifespan and queries per month.
            aggregation-method:
              time: sum
              component: sum
        outputs:
          total-footprint-per-image-dalle:
            unit: gCO2/image
            description: >-
              total carbon emitted during image generation for the Dalle-2
              model. In paper supp info it is cell B84.
            aggregation-method:
              time: sum
              component: sum
    sum-embodied-and-inference-for-midjourney:
      path: builtin
      method: Sum
      config:
        input-parameters:
          - inference-carbon-for-midjourney
          - embodied-carbon-per-query-chat-gpt
        output-parameter: total-carbon-per-image-midjourney
      parameter-metadata:
        inputs:
          inference-carbon-for-midjourney:
            unit: gCO2e/query
            description: >-
              total carbon emitted per image generated by midjourney. Paper says
              this was generated using online calculator assuming 4.5Wh energy
              used. In paper supp info sheet, it is hardcoded into cell B85.
            aggregation-method:
              time: sum
              component: sum
          embodied-carbon-per-query-chat-gpt:
            unit: gCO2e
            description: >-
              Embodied carbon of chat-gpt training scaled by the ratio of
              training time to hardware lifespan and queries per month.
            aggregation-method:
              time: sum
              component: sum
        outputs:
          total-footprint-per-image-midjourney:
            unit: gCO2/image
            description: >-
              total carbon emitted during image generation for the midjourney
              model. In paper supp info it is cell B85.
            aggregation-method:
              time: sum
              component: sum
    compute-illustration-rate-in-hours-per-image:
      path: builtin
      method: Divide
      config:
        numerator: cost-of-illustration-per-hour
        denominator: cost-per-hour-human-illustrator
        output: human-illustrator-work-rate
      parameter-metadata:
        inputs:
          cost-of-illustration-per-hour:
            unit: USD
            description: >-
              cost of an illustration, per
              https://www.thumbtack.com/p/illustration-rates
            aggregation-method:
              time: copy
              component: copy
          cost-per-hour-human-illustrator:
            unit: USD
            description: >-
              human illustrator hourly rate, per
              https://www.thumbtack.com/p/illustration-rates
            aggregation-method:
              time: copy
              component: copy
        outputs:
          human-illustrator-work-rate:
            unit: hours/image
            description: >-
              How long it takes a human to create an image. In the paper supp
              info sheet it is cell B35.
            aggregation-method:
              time: copy
              component: copy
    multiply-laptop-carbon-by-illustration-rate:
      path: builtin
      method: Multiply
      config:
        input-parameters:
          - laptop-footprint-in-gco2-per-hour
          - human-illustrator-work-rate
        output-parameter: carbon-per-image
      parameter-metadata:
        inputs:
          laptop-footprint-in-gco2-per-hour:
            unit: gCO2/hour
            description: >-
              carbon footprint of a lapktop per hour of usage, per
              https://www.epa.gov/energy/greenhouse-gas-equivalencies-calculator#results.
            aggregation-method:
              time: copy
              component: copy
          human-illustrator-work-rate:
            unit: hours/image
            description: >-
              How long it takes a human to create an image. In the paper supp
              info sheet it is cell B35.
            aggregation-method:
              time: copy
              component: copy
        outputs:
          carbon-per-image:
            unit: gCO2e/page
            description: >-
              How much carbon is emitted during image generation. In the paper
              it is cell B86
            aggregation-method:
              time: sum
              component: sum
    multiply-desktop-carbon-by-illustration-rate:
      path: builtin
      method: Multiply
      config:
        input-parameters:
          - desktop-footprint-in-gco2-per-hour
          - human-illustrator-work-rate
        output-parameter: carbon-per-image
      parameter-metadata:
        inputs:
          desktop-footprint-in-gco2-per-hour:
            unit: gCO2/hour
            description: >-
              carbon footprint of a desktop per hour of usage, per
              https://www.epa.gov/energy/greenhouse-gas-equivalencies-calculator#results.
            aggregation-method:
              time: copy
              component: copy
          human-illustrator-work-rate:
            unit: hours/image
            description: >-
              How long it takes a human to create an image. In the paper supp
              info sheet it is cell B35.
            aggregation-method:
              time: copy
              component: copy
        outputs:
          carbon-per-image:
            unit: gCO2e/page
            description: >-
              How much carbon is emitted during image generation. In the paper
              it is cell B87
            aggregation-method:
              time: sum
              component: sum
    multiply-human-carbon-footprint-by-illustration-rate:
      path: builtin
      method: Multiply
      config:
        input-parameters:
          - human-footprint-in-gco2-per-hour
          - human-illustrator-work-rate
        output-parameter: carbon-per-image
      parameter-metadata:
        inputs:
          human-illustrator-work-rate:
            unit: hours/image
            description: >-
              How long it takes a human to create an image. In the paper supp
              info sheet it is cell B35.
            aggregation-method:
              time: copy
              component: copy
          human-footprint-in-gco2-per-hour:
            unit: gCO2e/hour
            description: >-
              How much carbon a human emits per hour for a given country, from
              https://ourworldindata.org/co2-and-other-greenhouse-gas-emissions
              and scaled to per hour.In the paper supp info sheet it is cell B21
              or B22 (USA or India).
            aggregation-method:
              time: sum
              component: sum
        outputs:
          carbon-per-page:
            unit: gCO2e/page
            description: >-
              Ho wmuch carbon is emitted when a person writes a page of text. in
              the paper it is cell B72 (USA) or B73 (India)
            aggregation-method:
              time: sum
              component: sum
execution:
  command: >-
    /home/user/.npm/_npx/1bf7c3c15bf47d04/node_modules/.bin/ts-node
    /home/user/Code/if/src/if-run/index.ts -m
    manifests/examples/sci-rep-paper.yml -o
    manifests/outputs/tomlinson-2024-output.yml
  environment:
    if-version: 0.7.2
    os: macOS
    os-version: 14.6.1
    node-version: 18.20.4
    date-time: 2024-11-22T05:57:35.372Z (UTC)
    dependencies:
      - '@babel/core@7.22.10'
      - '@babel/preset-typescript@7.23.3'
      - '@commitlint/cli@18.6.0'
      - '@commitlint/config-conventional@18.6.0'
      - '@grnsft/if-core@0.0.28'
      - >-
        @grnsft/if-eco-ci-plugin@0.0.1 extraneous ->
        file:../../../if-eco-ci-plugin
      - '@jest/globals@29.7.0'
      - '@types/jest@29.5.8'
      - '@types/js-yaml@4.0.9'
      - '@types/luxon@3.4.2'
      - '@types/node@20.9.0'
      - axios-mock-adapter@1.22.0
      - axios@1.7.7
      - cross-env@7.0.3
      - csv-parse@5.5.6
      - csv-stringify@6.4.6
      - fixpack@4.0.0
      - gts@5.2.0
      - husky@8.0.3
      - jest@29.7.0
      - js-yaml@4.1.0
      - lint-staged@15.2.10
      - luxon@3.4.4
      - release-it@16.3.0
      - rimraf@5.0.5
      - ts-command-line-args@2.5.1
      - ts-jest@29.1.1
      - typescript-cubic-spline@1.0.1
      - typescript@5.2.2
      - winston@3.11.0
      - zod@3.23.8
  status: success
explain:
  divide-training-carbon-by-queries-per-month-bloom:
    inputs:
      training-carbon-bloom:
        unit: gCO2e
        description: >-
          Carbon used to train BLOOM model, per
          https://arxiv.org/abs/2211.02001.
        aggregation-method:
          time: sum
          component: sum
      queries-per-month-bloom:
        unit: queries
        description: >-
          Number of queries to amortize training carbon over, per
          https://medium.com/@chrispointon/the-carbon-footprint-of-chatgpt-e1bc14e4cc2a.
        aggregation-method:
          time: sum
          component: sum
    outputs:
      carbon-per-query-bloom:
        unit: gCO2e/query
        description: >-
          Carbon emitted during bloom model training normalized per query. In
          paper supp info sheet it is cell B13.
        aggregation-method:
          time: sum
          component: sum
  divide-inference-carbon-by-n-queries-bloom:
    inputs:
      carbon-per-n-queries-bloom:
        unit: gCO2e
        description: >-
          Carbon used during inference for a time period during which 230768
          queries were made, per https://arxiv.org/abs/2211.02001.
        aggregation-method:
          time: sum
          component: sum
      n-queries-in-bloom-study:
        unit: queries
        description: >-
          Number of queries made during a study period, per
          https://arxiv.org/abs/2211.02001.
        aggregation-method:
          time: sum
          component: sum
    outputs:
      carbon-per-query-bloom-inference:
        unit: gCO2e/query
        description: >-
          Carbon emitted per query for model inference. In the paper's supp info
          sheet it is cell B6.
        aggregation-method:
          time: sum
          component: sum
  sum-embodied-carbon-components-bloom:
    inputs:
      embodied-carbon-of-a100-gpu:
        unit: gCO2e
        description: >-
          embodied carbon for a100 GPUs used for training bloom, per
          https://arxiv.org/abs/2211.02001.
        aggregation-method:
          time: sum
          component: sum
      carbon-footprint-for-recycling-gpu:
        unit: queries
        description: >-
          Carbon footprint for gpu recycling, per
          https://circularcomputing.com/news/carbon-footprint-laptop/.
        aggregation-method:
          time: sum
          component: sum
    outputs:
      embodied-carbon-bloom:
        unit: gCO2e
        description: >-
          total-embodied carbon emitted by gpu production and recycling for
          bloom model. In paper supp info sheet, it is cell B41.
        aggregation-method:
          time: sum
          component: sum
  scale-embodied-carbon-to-training-time-period-bloom:
    inputs:
      embodied-carbon-bloom:
        unit: gCO2e
        description: >-
          Embodied carbon allocated to training bloom, as sum of gpu embodied
          and carbon emitted in recycling.
        aggregation-method:
          time: sum
          component: sum
      fraction-of-gpu-lifetime-used-for-training-bloom:
        unit: queries
        description: >-
          ratio of 1082 training hours to 1.5 year lifespan, per
          https://screenrant.com/when-is-nvidia-releasing-new-graphics-cards/.
        aggregation-method:
          time: sum
          component: sum
    outputs:
      embodied-carbon-bloom-scaled-by-time:
        unit: gCO2e
        description: >-
          Embodied carbon of bloom training scaled by the ratio of training time
          to hardware lifespan.
        aggregation-method:
          time: sum
          component: sum
  scale-embodied-carbon-to-queries-per-month-bloom:
    inputs:
      embodied-carbon-bloom-scaled-by-time:
        unit: gCO2e
        description: >-
          Embodied carbon of bloom training scaled by the ratio of training time
          to hardware lifespan.
        aggregation-method:
          time: sum
          component: sum
      queries-per-month-bloom:
        unit: queries
        description: assumed number of queries per month used to scale carbon.
        aggregation-method:
          time: sum
          component: sum
    outputs:
      embodied-carbon-per-query-bloom:
        unit: gCO2e/query
        description: >-
          Embodied carbon of bloom training scaled by the ratio of training time
          to hardware lifespan and queries per month.
        aggregation-method:
          time: sum
          component: sum
  convert-carbon-per-query-to-carbon-per-word-bloom:
    inputs:
      carbon-per-query-bloom:
        unit: gCO2e/query
        description: Carbon per query for bloom model.
        aggregation-method:
          time: sum
          component: sum
      words-per-page:
        unit: words
        description: >-
          Number of words on a page of writing, per common knowledge, or
          https://wordcounter.net/words-per-page.
        aggregation-method:
          time: sum
          component: sum
    outputs:
      carbon-per-word-bloom:
        unit: gCO2e/word
        description: >-
          Carbon emitted per word in a 250-word page of writing. In paper supp
          info sheet it is cell B15 * B19, a component of cell B69.
        aggregation-method:
          time: sum
          component: sum
  sum-words-per-query-and-embodied-carbon-per-query-bloom:
    inputs:
      words-per-bloom-response:
        unit: words
        description: number of words returned per bloom model response.
        aggregation-method:
          time: sum
          component: sum
      embodied-carbon-per-query-bloom:
        unit: gCO2e/query
        description: >-
          Embodied carbon of bloom training scaled by the ratio of training time
          to hardware lifespan and queries per month.
        aggregation-method:
          time: sum
          component: sum
    outputs:
      intermediate-value-summing-words-per-response-and-carbon-per-response:
        unit: Not sure!
        description: >-
          A summation of words per response and carbon per response. Not
          currently understanding this step in the pipeline. I think maybe they
          should have multiplied not added.
        aggregation-method:
          time: sum
          component: sum
  calculate-total-footprint-per-page-bloom:
    inputs:
      carbon-per-word-bloom:
        unit: gCO2e/word
        description: carbon emitted per word for bloom model.
        aggregation-method:
          time: sum
          component: sum
      intermediate-value-summing-words-per-response-and-carbon-per-response:
        unit: Not sure!
        description: >-
          A summation of words per response and carbon per response. Not
          currently understanding this step in the pipeline.
        aggregation-method:
          time: sum
          component: sum
    outputs:
      carbon-per-page:
        unit: gCO2e/page
        description: >-
          Carbon emitted per page of writing done using bloom model. In paper
          supp info sheet it is cell B69.
        aggregation-method:
          time: sum
          component: sum
  divide-training-carbon-by-queries-per-month-chat-gpt:
    inputs:
      training-carbon-chat-gpt:
        unit: gCO2e
        description: >-
          Carbon used to train chat-gpt model, per
          https://medium.com/@chrispointon/the-carbon-footprint-of-chatgpt-e1bc14e4cc2a.
        aggregation-method:
          time: sum
          component: sum
      queries-per-month-chat-gpt:
        unit: queries
        description: >-
          Number of queries to amortize training carbon over, per
          https://medium.com/@chrispointon/the-carbon-footprint-of-chatgpt-e1bc14e4cc2a.
        aggregation-method:
          time: sum
          component: sum
    outputs:
      carbon-per-query-chat-gpt-training:
        unit: gCO2e
        description: >-
          Carbon emitted during chat-gpt model training normalized per query. In
          paper supp info sheet it is cell B12.
        aggregation-method:
          time: sum
          component: sum
  divide-inference-carbon-by-n-queries-chat-gpt:
    inputs:
      operational-carbon-per-day-chat-gpt:
        unit: gCO2e
        description: >-
          Carbon emitted per day for inference by chat-gpt, per
          https://medium.com/@chrispointon/the-carbon-footprint-of-chatgpt-e1bc14e4cc2a.
        aggregation-method:
          time: sum
          component: sum
      queries-per-day-chat-gpt:
        unit: queries
        description: >-
          Number of queries made per day to chat gpt, per
          https://medium.com/@chrispointon/the-carbon-footprint-of-chatgpt-e1bc14e4cc2a.
        aggregation-method:
          time: sum
          component: sum
    outputs:
      carbon-per-query-chat-gpt-inference:
        unit: gCO2e/query
        description: >-
          Carbon emitted per query for model inference. In the paper's supp info
          sheet it is cell B10.
        aggregation-method:
          time: sum
          component: sum
  sum-embodied-carbon-components-chat-gpt:
    inputs:
      embodied-carbon-of-a100-gpu:
        unit: gCO2e
        description: >-
          embodied carbon for a100 GPUs used for training chat-gpt, per
          https://arxiv.org/abs/2211.02001.
        aggregation-method:
          time: sum
          component: sum
      carbon-footprint-for-recycling-gpu:
        unit: queries
        description: >-
          Carbon footprint for gpu recycling, per
          https://circularcomputing.com/news/carbon-footprint-laptop/.
        aggregation-method:
          time: sum
          component: sum
    outputs:
      embodied-carbon-chat-gpt:
        unit: gCO2e
        description: >-
          total-embodied carbon emitted by gpu production and recycling for
          chat-gpt model. In paper supp info sheet, it is cell B41.
        aggregation-method:
          time: sum
          component: sum
  scale-embodied-carbon-to-training-time-period-chat-gpt:
    inputs:
      embodied-carbon-chat-gpt:
        unit: gCO2e
        description: >-
          Embodied carbon allocated to training chat-gpt, as sum of gpu embodied
          and carbon emitted in recycling.
        aggregation-method:
          time: sum
          component: sum
      fraction-of-gpu-lifetime-used-for-training-chat-gpt:
        unit: queries
        description: >-
          ratio of 1082 training hours to 1.5 year lifespan, per
          https://screenrant.com/when-is-nvidia-releasing-new-graphics-cards/.
        aggregation-method:
          time: sum
          component: sum
    outputs:
      embodied-carbon-chat-gpt-scaled-by-time:
        unit: gCO2e
        description: >-
          Embodied carbon of chat-gpt training scaled by the ratio of training
          time to hardware lifespan. In paper supp info sheet it is cell B51.
        aggregation-method:
          time: sum
          component: sum
  scale-embodied-carbon-to-queries-per-month-chat-gpt:
    inputs:
      embodied-carbon-chat-gpt-scaled-by-time:
        unit: gCO2e
        description: >-
          Embodied carbon of chat-gpt training scaled by the ratio of training
          time to hardware lifespan.
        aggregation-method:
          time: sum
          component: sum
      queries-per-month-chat-gpt:
        unit: queries
        description: assumed number of queries per month used to scale carbon.
        aggregation-method:
          time: sum
          component: sum
    outputs:
      embodied-carbon-per-query-chat-gpt:
        unit: gCO2e
        description: >-
          Embodied carbon of chat-gpt training scaled by the ratio of training
          time to hardware lifespan and queries per month. In paper sup[info
          sheet it is cell B53.
        aggregation-method:
          time: sum
          component: sum
  convert-carbon-per-query-to-carbon-per-word-chat-gpt:
    inputs:
      carbon-per-query-chat-gpt:
        unit: gCO2e
        description: Carbon per query for chat-gpt model.
        aggregation-method:
          time: sum
          component: sum
      words-per-page:
        unit: words
        description: >-
          Number of words on a page of writing, per common knowledge, or
          https://wordcounter.net/words-per-page.
        aggregation-method:
          time: sum
          component: sum
    outputs:
      carbon-per-word-chat-gpt:
        unit: gCO2e/word
        description: >-
          Carbon emitted per word in a 250-word page of writing. In paper supp
          info sheet it is cell B14 * B19, a component of cell B69.
        aggregation-method:
          time: sum
          component: sum
  sum-words-per-query-and-embodied-carbon-per-query-chat-gpt:
    inputs:
      words-per-chat-gpt-response:
        unit: words
        description: number of words returned per chat-gpt model response.
        aggregation-method:
          time: sum
          component: sum
      embodied-carbon-per-query-chat-gpt:
        unit: gCO2e
        description: >-
          Embodied carbon of chat-gpt training scaled by the ratio of training
          time to hardware lifespan and queries per month.
        aggregation-method:
          time: sum
          component: sum
    outputs:
      intermediate-value-summing-words-per-response-and-carbon-per-response:
        unit: Not sure!
        description: >-
          A summation of words per response and carbon per response. Not
          currently understanding this step in the pipeline. I think maybe they
          should have multiplied not added.
        aggregation-method:
          time: sum
          component: sum
  calculate-total-footprint-per-page-chat-gpt:
    inputs:
      carbon-per-word-chat-gpt:
        unit: gCO2e/word
        description: carbon emitted per word for chat-gpt model.
        aggregation-method:
          time: sum
          component: sum
      intermediate-value-summing-words-per-response-and-carbon-per-response:
        unit: Not sure!
        description: >-
          A summation of words per response and carbon per response. Not
          currently understanding this step in the pipeline.
        aggregation-method:
          time: sum
          component: sum
    outputs:
      carbon-per-page:
        unit: gCO2e/page
        description: >-
          Carbon emitted per page of writing done using chat-gpt model. In paper
          supp info it is cell B68.
        aggregation-method:
          time: sum
          component: sum
  compute-writing-rate-in-hours-per-page:
    inputs:
      writing-rate-words-per-page:
        unit: words/page
        description: >-
          number of words on a page of writing, per common knowledge, or
          https://wordcounter.net/words-per-page
        aggregation-method:
          time: copy
          component: copy
      writing-rate-words-per-hour:
        unit: words/hour
        description: number of words a human writes in an hour
        aggregation-method:
          time: sum
          component: sum
    outputs:
      writing-rate-hours-per-page:
        unit: hours/page
        description: >-
          How long it takes a human to write a page of text. Int he paper supp
          info sheet it is cell B20.
        aggregation-method:
          time: copy
          component: copy
  multiply-human-carbon-footprint-by-writing-rate:
    inputs:
      writing-rate-hours-per-page:
        unit: hours/page
        description: >-
          How long it takes a human to write a page of text. Int he paper supp
          info sheet it is cell B20.
        aggregation-method:
          time: copy
          component: copy
      human-footprint-in-gco2-per-hour:
        unit: gCO2e/hour
        description: >-
          ow much carbon a human emits per hour for a given country, from
          https://ourworldindata.org/co2-and-other-greenhouse-gas-emissions and
          scaled to per hour.In the paper supp info sheet it is cell B21 or B22
          (USA or India).
        aggregation-method:
          time: sum
          component: sum
    outputs:
      carbon-per-page:
        unit: gCO2e/page
        description: >-
          Ho wmuch carbon is emitted when a person writes a page of text. in the
          paper it is cell B72 (USA) or B73 (India)
        aggregation-method:
          time: sum
          component: sum
  multiply-laptop-footprint-by-writing-rate:
    inputs:
      laptop-footprint-in-gco2-per-hour:
        unit: gCO2/hour
        description: >-
          carbon footprint of a laptop per hour of usage, per
          https://www.epa.gov/energy/greenhouse-gas-equivalencies-calculator#results.
        aggregation-method:
          time: copy
          component: copy
      writing-rate-hours-per-page:
        unit: hours/page
        description: >-
          How long it takes a human to write a page of text. Int he paper supp
          info sheet it is cell B20.
        aggregation-method:
          time: copy
          component: copy
    outputs:
      carbon-per-page:
        unit: gCO2e/page
        description: >-
          How much carbon is emitted when a laptop is used to generate a page of
          text. In the paper it is cell B70
        aggregation-method:
          time: sum
          component: sum
  multiply-desktop-footprint-by-writing-rate:
    inputs:
      desktop-footprint-in-gco2-per-hour:
        unit: gCO2/hour
        description: >-
          carbon footprint of a desktop per hour of usage, per
          https://www.epa.gov/energy/greenhouse-gas-equivalencies-calculator#results.
        aggregation-method:
          time: copy
          component: copy
      writing-rate-hours-per-page:
        unit: hours/page
        description: >-
          How long it takes a human to write a page of text. Int he paper supp
          info sheet it is cell B20.
        aggregation-method:
          time: copy
          component: copy
    outputs:
      carbon-per-page:
        unit: gCO2e/page
        description: >-
          How much carbon is emitted when a desktop is used to generate a page
          of text. In the paper it is cell B71
        aggregation-method:
          time: sum
          component: sum
  sum-embodied-and-inference-for-dalle:
    inputs:
      total-carbon-per-query-chat-gpt:
        unit: gCO2e/query
        description: >-
          total carbon emitted per query by chat-gpt model, as sum of training
          and inference carbon. In paper supp info sheet, it is cell B14.
        aggregation-method:
          time: sum
          component: sum
      embodied-carbon-per-query-chat-gpt:
        unit: gCO2e
        description: >-
          Embodied carbon of chat-gpt training scaled by the ratio of training
          time to hardware lifespan and queries per month.
        aggregation-method:
          time: sum
          component: sum
    outputs:
      total-footprint-per-image-dalle:
        unit: gCO2/image
        description: >-
          total carbon emitted during image generation for the Dalle-2 model. In
          paper supp info it is cell B84.
        aggregation-method:
          time: sum
          component: sum
  sum-embodied-and-inference-for-midjourney:
    inputs:
      inference-carbon-for-midjourney:
        unit: gCO2e/query
        description: >-
          total carbon emitted per image generated by midjourney. Paper says
          this was generated using online calculator assuming 4.5Wh energy used.
          In paper supp info sheet, it is hardcoded into cell B85.
        aggregation-method:
          time: sum
          component: sum
      embodied-carbon-per-query-chat-gpt:
        unit: gCO2e
        description: >-
          Embodied carbon of chat-gpt training scaled by the ratio of training
          time to hardware lifespan and queries per month.
        aggregation-method:
          time: sum
          component: sum
    outputs:
      total-footprint-per-image-midjourney:
        unit: gCO2/image
        description: >-
          total carbon emitted during image generation for the midjourney model.
          In paper supp info it is cell B85.
        aggregation-method:
          time: sum
          component: sum
  compute-illustration-rate-in-hours-per-image:
    inputs:
      cost-of-illustration-per-hour:
        unit: USD
        description: >-
          cost of an illustration, per
          https://www.thumbtack.com/p/illustration-rates
        aggregation-method:
          time: copy
          component: copy
      cost-per-hour-human-illustrator:
        unit: USD
        description: >-
          human illustrator hourly rate, per
          https://www.thumbtack.com/p/illustration-rates
        aggregation-method:
          time: copy
          component: copy
    outputs:
      human-illustrator-work-rate:
        unit: hours/image
        description: >-
          How long it takes a human to create an image. In the paper supp info
          sheet it is cell B35.
        aggregation-method:
          time: copy
          component: copy
  multiply-laptop-carbon-by-illustration-rate:
    inputs:
      laptop-footprint-in-gco2-per-hour:
        unit: gCO2/hour
        description: >-
          carbon footprint of a lapktop per hour of usage, per
          https://www.epa.gov/energy/greenhouse-gas-equivalencies-calculator#results.
        aggregation-method:
          time: copy
          component: copy
      human-illustrator-work-rate:
        unit: hours/image
        description: >-
          How long it takes a human to create an image. In the paper supp info
          sheet it is cell B35.
        aggregation-method:
          time: copy
          component: copy
    outputs:
      carbon-per-image:
        unit: gCO2e/page
        description: >-
          How much carbon is emitted during image generation. In the paper it is
          cell B86
        aggregation-method:
          time: sum
          component: sum
  multiply-desktop-carbon-by-illustration-rate:
    inputs:
      desktop-footprint-in-gco2-per-hour:
        unit: gCO2/hour
        description: >-
          carbon footprint of a desktop per hour of usage, per
          https://www.epa.gov/energy/greenhouse-gas-equivalencies-calculator#results.
        aggregation-method:
          time: copy
          component: copy
      human-illustrator-work-rate:
        unit: hours/image
        description: >-
          How long it takes a human to create an image. In the paper supp info
          sheet it is cell B35.
        aggregation-method:
          time: copy
          component: copy
    outputs:
      carbon-per-image:
        unit: gCO2e/page
        description: >-
          How much carbon is emitted during image generation. In the paper it is
          cell B87
        aggregation-method:
          time: sum
          component: sum
  multiply-human-carbon-footprint-by-illustration-rate:
    inputs:
      human-illustrator-work-rate:
        unit: hours/image
        description: >-
          How long it takes a human to create an image. In the paper supp info
          sheet it is cell B35.
        aggregation-method:
          time: copy
          component: copy
      human-footprint-in-gco2-per-hour:
        unit: gCO2e/hour
        description: >-
          How much carbon a human emits per hour for a given country, from
          https://ourworldindata.org/co2-and-other-greenhouse-gas-emissions and
          scaled to per hour.In the paper supp info sheet it is cell B21 or B22
          (USA or India).
        aggregation-method:
          time: sum
          component: sum
    outputs:
      carbon-per-page:
        unit: gCO2e/page
        description: >-
          Ho wmuch carbon is emitted when a person writes a page of text. in the
          paper it is cell B72 (USA) or B73 (India)
        aggregation-method:
          time: sum
          component: sum
tree:
  children:
    writing:
      children:
        bloom-model:
          pipeline:
            compute:
              - divide-training-carbon-by-queries-per-month-bloom
              - divide-inference-carbon-by-n-queries-bloom
              - sum-embodied-carbon-components-bloom
              - scale-embodied-carbon-to-training-time-period-bloom
              - scale-embodied-carbon-to-queries-per-month-bloom
              - sum-training-and-inference-carbon-per-query-bloom
              - convert-carbon-per-query-to-carbon-per-word-bloom
              - sum-words-per-query-and-embodied-carbon-per-query-bloom
              - calculate-total-footprint-per-page-bloom
          defaults:
            training-carbon-bloom: 30000000
            queries-per-month-bloom: 300000000
            carbon-per-n-queries-bloom: 340000
            n-queries-in-bloom-study: 230768
            bloom-gpu-embodied-carbon: 12439.69798
            fraction-of-gpu-lifetime-used-for-training-bloom: 0.08238203957
            embodied-energy-of-a100-gpu: 150000
            carbon-footprint-for-recycling-gpu: 1000
            words-per-bloom-response: 412.8
            words-per-page: 250
          inputs:
            - timestamp: '2024-09-01T10:00:00'
              duration: 86400
          outputs:
            - timestamp: '2024-09-01T10:00:00'
              duration: 86400
              training-carbon-bloom: 30000000
              queries-per-month-bloom: 300000000
              carbon-per-n-queries-bloom: 340000
              n-queries-in-bloom-study: 230768
              bloom-gpu-embodied-carbon: 12439.69798
              fraction-of-gpu-lifetime-used-for-training-bloom: 0.08238203957
              embodied-energy-of-a100-gpu: 150000
              carbon-footprint-for-recycling-gpu: 1000
              words-per-bloom-response: 412.8
              words-per-page: 250
              carbon-per-query-bloom-training: 0.1
              carbon-per-query-bloom-inference: 1.4733411911530194
              embodied-carbon-bloom: 151000
              embodied-carbon-bloom-scaled-by-time: 12439.687975069999
              embodied-carbon-per-query-bloom: 0.000041465626583566665
              total-carbon-per-query-bloom: 1.5733411911530195
              carbon-per-word-bloom: 393.3352977882549
              intermediate-value-summing-words-per-response-and-carbon-per-response: 412.8000414656266
              carbon-per-page: 0.9528470404017813
        chat-gpt-model:
          pipeline:
            compute:
              - divide-training-carbon-by-queries-per-month-chat-gpt
              - divide-inference-carbon-by-n-queries-chat-gpt
              - sum-training-and-inference-carbon-per-query
              - sum-embodied-carbon-components-chat-gpt
              - scale-embodied-carbon-to-training-time-period-chat-gpt
              - scale-embodied-carbon-to-queries-per-month-chat-gpt
              - convert-carbon-per-query-to-carbon-per-word-chat-gpt
              - sum-words-per-query-and-embodied-carbon-per-query-chat-gpt
              - calculate-total-footprint-per-page-chat-gpt
          defaults:
            training-carbon-chat-gpt: 552000000
            queries-per-month-chat-gpt: 300000000
            operational-carbon-per-day-chat-gpt: 3820000
            queries-per-day-chat-gpt: 10000000
            chat-gpt-gpu-embodied-carbon: 36974.31507
            fraction-of-gpu-lifetime-used-for-training-chat-gpt: 0.2448630137
            embodied-energy-of-a100-gpu: 150000
            carbon-footprint-for-recycling-gpu: 1000
            words-per-chat-gpt-response: 412.8
            words-per-page: 250
          inputs:
            - timestamp: '2024-09-01T10:00:00'
              duration: 86400
          outputs:
            - timestamp: '2024-09-01T10:00:00'
              duration: 86400
              training-carbon-chat-gpt: 552000000
              queries-per-month-chat-gpt: 300000000
              operational-carbon-per-day-chat-gpt: 3820000
              queries-per-day-chat-gpt: 10000000
              chat-gpt-gpu-embodied-carbon: 36974.31507
              fraction-of-gpu-lifetime-used-for-training-chat-gpt: 0.2448630137
              embodied-energy-of-a100-gpu: 150000
              carbon-footprint-for-recycling-gpu: 1000
              words-per-chat-gpt-response: 412.8
              words-per-page: 250
              carbon-per-query-chat-gpt-training: 1.84
              carbon-per-query-chat-gpt-inference: 0.382
              total-carbon-per-query-chat-gpt: 2.222
              embodied-carbon-chat-gpt: 151000
              embodied-carbon-chat-gpt-scaled-by-time: 36974.3150687
              embodied-carbon-per-query-chat-gpt: 0.00012324771689566669
              carbon-per-word-chat-gpt: 555.5
              intermediate-value-summing-words-per-response-and-carbon-per-response: 412.8001232477169
              carbon-per-page: 1.345687582720634
        human-usa:
          pipeline:
            compute:
              - compute-writing-rate-in-hours-per-page
              - multiply-human-carbon-footprint-by-writing-rate
          defaults:
            writing-rate-words-per-hour: 300
            writing-rate-words-per-page: 250
            human-footprint-in-gco2-per-hour: 1712.328767123329
          inputs:
            - timestamp: '2024-09-01T10:00:00'
              duration: 86400
          outputs:
            - timestamp: '2024-09-01T10:00:00'
              duration: 86400
              writing-rate-words-per-hour: 300
              writing-rate-words-per-page: 250
              human-footprint-in-gco2-per-hour: 1712.328767123329
              writing-rate-hours-per-page: 0.8333333333333334
              carbon-per-page: 1426.940639269441
        human-india:
          pipeline:
            compute:
              - compute-writing-rate-in-hours-per-page
              - multiply-human-carbon-footprint-by-writing-rate
          defaults:
            writing-rate-words-per-hour: 300
            writing-rate-words-per-page: 250
            human-footprint-in-gco2-per-hour: 216.89497716895
          inputs:
            - timestamp: '2024-09-01T10:00:00'
              duration: 86400
          outputs:
            - timestamp: '2024-09-01T10:00:00'
              duration: 86400
              writing-rate-words-per-hour: 300
              writing-rate-words-per-page: 250
              human-footprint-in-gco2-per-hour: 216.89497716895
              writing-rate-hours-per-page: 0.8333333333333334
              carbon-per-page: 180.74581430745835
        laptop:
          pipeline:
            compute:
              - compute-writing-rate-in-hours-per-page
              - multiply-laptop-footprint-by-writing-rate
          defaults:
            writing-rate-words-per-hour: 300
            writing-rate-words-per-page: 250
            laptop-footprint-in-gco2-per-hour: 32.4
          inputs:
            - timestamp: '2024-09-01T10:00:00'
              duration: 86400
          outputs:
            - timestamp: '2024-09-01T10:00:00'
              duration: 86400
              writing-rate-words-per-hour: 300
              writing-rate-words-per-page: 250
              laptop-footprint-in-gco2-per-hour: 32.4
              writing-rate-hours-per-page: 0.8333333333333334
              carbon-per-page: 27
        desktop:
          pipeline:
            compute:
              - compute-writing-rate-in-hours-per-page
              - multiply-desktop-footprint-by-writing-rate
          defaults:
            writing-rate-words-per-hour: 300
            writing-rate-words-per-page: 250
            desktop-footprint-in-gco2-per-hour: 72.08
          inputs:
            - timestamp: '2024-09-01T10:00:00'
              duration: 86400
          outputs:
            - timestamp: '2024-09-01T10:00:00'
              duration: 86400
              writing-rate-words-per-hour: 300
              writing-rate-words-per-page: 250
              desktop-footprint-in-gco2-per-hour: 72.08
              writing-rate-hours-per-page: 0.8333333333333334
              carbon-per-page: 60.06666666666667
    illustration:
      children:
        dalle-2:
          pipeline:
            compute:
              - divide-training-carbon-by-queries-per-month-chat-gpt
              - divide-inference-carbon-by-n-queries-chat-gpt
              - sum-training-and-inference-carbon-per-query
              - sum-embodied-carbon-components-chat-gpt
              - scale-embodied-carbon-to-training-time-period-chat-gpt
              - scale-embodied-carbon-to-queries-per-month-chat-gpt
              - sum-embodied-and-inference-for-dalle
          defaults:
            training-carbon-chat-gpt: 552000000
            queries-per-month-chat-gpt: 300000000
            operational-carbon-per-day-chat-gpt: 3820000
            queries-per-day-chat-gpt: 10000000
            chat-gpt-gpu-embodied-carbon: 36974.31507
            fraction-of-gpu-lifetime-used-for-training-chat-gpt: 0.2448630137
            embodied-energy-of-a100-gpu: 150000
            carbon-footprint-for-recycling-gpu: 1000
          inputs:
            - timestamp: '2024-09-01T10:00:00'
              duration: 86400
          outputs:
            - timestamp: '2024-09-01T10:00:00'
              duration: 86400
              training-carbon-chat-gpt: 552000000
              queries-per-month-chat-gpt: 300000000
              operational-carbon-per-day-chat-gpt: 3820000
              queries-per-day-chat-gpt: 10000000
              chat-gpt-gpu-embodied-carbon: 36974.31507
              fraction-of-gpu-lifetime-used-for-training-chat-gpt: 0.2448630137
              embodied-energy-of-a100-gpu: 150000
              carbon-footprint-for-recycling-gpu: 1000
              carbon-per-query-chat-gpt-training: 1.84
              carbon-per-query-chat-gpt-inference: 0.382
              total-carbon-per-query-chat-gpt: 2.222
              embodied-carbon-chat-gpt: 151000
              embodied-carbon-chat-gpt-scaled-by-time: 36974.3150687
              embodied-carbon-per-query-chat-gpt: 0.00012324771689566669
              total-carbon-per-image-dalle: 2.2221232477168957
        midjourney:
          pipeline:
            compute:
              - sum-embodied-carbon-components-chat-gpt
              - scale-embodied-carbon-to-training-time-period-chat-gpt
              - scale-embodied-carbon-to-queries-per-month-chat-gpt
              - sum-embodied-and-inference-for-midjourney
          defaults:
            training-carbon-chat-gpt: 552000000
            queries-per-month-chat-gpt: 300000000
            chat-gpt-gpu-embodied-carbon: 36974.31507
            fraction-of-gpu-lifetime-used-for-training-chat-gpt: 0.2448630137
            embodied-energy-of-a100-gpu: 150000
            carbon-footprint-for-recycling-gpu: 1000
            inference-carbon-for-midjourney: 1.9
          inputs:
            - timestamp: '2024-09-01T10:00:00'
              duration: 86400
          outputs:
            - timestamp: '2024-09-01T10:00:00'
              duration: 86400
              training-carbon-chat-gpt: 552000000
              queries-per-month-chat-gpt: 300000000
              chat-gpt-gpu-embodied-carbon: 36974.31507
              fraction-of-gpu-lifetime-used-for-training-chat-gpt: 0.2448630137
              embodied-energy-of-a100-gpu: 150000
              carbon-footprint-for-recycling-gpu: 1000
              inference-carbon-for-midjourney: 1.9
              embodied-carbon-chat-gpt: 151000
              embodied-carbon-chat-gpt-scaled-by-time: 36974.3150687
              embodied-carbon-per-query-chat-gpt: 0.00012324771689566669
              total-carbon-per-image-midjourney: 1.9001232477168957
        laptop:
          pipeline:
            compute:
              - compute-illustration-rate-in-hours-per-image
              - multiply-laptop-carbon-by-illustration-rate
          defaults:
            cost-per-hour-human-illustrator: 62.5
            cost-of-illustration-per-hour: 200
            laptop-footprint-in-gco2-per-hour: 32.4
          inputs:
            - timestamp: '2024-09-01T10:00:00'
              duration: 86400
          outputs:
            - timestamp: '2024-09-01T10:00:00'
              duration: 86400
              cost-per-hour-human-illustrator: 62.5
              cost-of-illustration-per-hour: 200
              laptop-footprint-in-gco2-per-hour: 32.4
              human-illustrator-work-rate: 3.2
              carbon-per-image: 103.68
        desktop:
          pipeline:
            compute:
              - compute-illustration-rate-in-hours-per-image
              - multiply-desktop-carbon-by-illustration-rate
          defaults:
            cost-per-hour-human-illustrator: 62.5
            cost-of-illustration-per-hour: 200
            desktop-footprint-in-gco2-per-hour: 86.5
          inputs:
            - timestamp: '2024-09-01T10:00:00'
              duration: 86400
          outputs:
            - timestamp: '2024-09-01T10:00:00'
              duration: 86400
              cost-per-hour-human-illustrator: 62.5
              cost-of-illustration-per-hour: 200
              desktop-footprint-in-gco2-per-hour: 86.5
              human-illustrator-work-rate: 3.2
              carbon-per-image: 276.8
        human-usa:
          pipeline:
            compute:
              - compute-illustration-rate-in-hours-per-image
              - multiply-human-carbon-footprint-by-illustration-rate
          defaults:
            cost-per-hour-human-illustrator: 62.5
            cost-of-illustration-per-hour: 200
            human-footprint-in-gco2-per-hour: 1712.328767123329
          inputs:
            - timestamp: '2024-09-01T10:00:00'
              duration: 86400
          outputs:
            - timestamp: '2024-09-01T10:00:00'
              duration: 86400
              cost-per-hour-human-illustrator: 62.5
              cost-of-illustration-per-hour: 200
              human-footprint-in-gco2-per-hour: 1712.328767123329
              human-illustrator-work-rate: 3.2
              carbon-per-image: 5479.452054794653
        human-india:
          pipeline:
            compute:
              - compute-illustration-rate-in-hours-per-image
              - multiply-human-carbon-footprint-by-illustration-rate
          defaults:
            cost-per-hour-human-illustrator: 62.5
            cost-of-illustration-per-hour: 200
            human-footprint-in-gco2-per-hour: 216.89497716895
          inputs:
            - timestamp: '2024-09-01T10:00:00'
              duration: 86400
          outputs:
            - timestamp: '2024-09-01T10:00:00'
              duration: 86400
              cost-per-hour-human-illustrator: 62.5
              cost-of-illustration-per-hour: 200
              human-footprint-in-gco2-per-hour: 216.89497716895
              human-illustrator-work-rate: 3.2
              carbon-per-image: 694.06392694064
